{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Optional, NgZone, NgModule } from '@angular/core';\nimport { of, from } from 'rxjs';\nimport { observeOn, switchMap, map, shareReplay } from 'rxjs/operators';\nimport * as i1 from '@angular/fire';\nimport { ɵAngularFireSchedulers, ɵfirebaseAppFactory, ɵfetchInstance, ɵlazySDKProxy, FIREBASE_OPTIONS, FIREBASE_APP_NAME, ɵapplyMixins } from '@angular/fire';\nimport * as ɵngcc0 from '@angular/core';\nconst proxyPolyfillCompat = {\n  useEmulator: null,\n  useFunctionsEmulator: null,\n  httpsCallable: null\n};\nconst ORIGIN = /*#__PURE__*/new InjectionToken('angularfire2.functions.origin');\nconst REGION = /*#__PURE__*/new InjectionToken('angularfire2.functions.region');\nconst NEW_ORIGIN_BEHAVIOR = /*#__PURE__*/new InjectionToken('angularfire2.functions.new-origin-behavior');\nconst USE_EMULATOR = /*#__PURE__*/new InjectionToken('angularfire2.functions.use-emulator');\nlet AngularFireFunctions = /*#__PURE__*/(() => {\n  class AngularFireFunctions {\n    constructor(options, nameOrConfig, zone, region, origin, newOriginBehavior, _useEmulator) {\n      const schedulers = new ɵAngularFireSchedulers(zone);\n      const useEmulator = _useEmulator;\n      const functions = of(undefined).pipe(observeOn(schedulers.outsideAngular), switchMap(() => import('firebase/functions')), map(() => ɵfirebaseAppFactory(options, zone, nameOrConfig)), map(app => ɵfetchInstance(`${app.name}.functions.${region || origin}`, 'AngularFireFunctions', app, () => {\n        let functions;\n\n        if (newOriginBehavior) {\n          if (region && origin) {\n            throw new Error('REGION and ORIGIN can\\'t be used at the same time.');\n          }\n\n          functions = app.functions(region || origin || undefined);\n        } else {\n          functions = app.functions(region || undefined);\n        }\n\n        if (!newOriginBehavior && !useEmulator && origin) {\n          functions.useFunctionsEmulator(origin);\n        }\n\n        if (useEmulator) {\n          functions.useEmulator(...useEmulator);\n        }\n\n        return functions;\n      }, [region, origin, useEmulator])), shareReplay({\n        bufferSize: 1,\n        refCount: false\n      }));\n\n      this.httpsCallable = (name, options) => data => from(functions).pipe(observeOn(schedulers.insideAngular), switchMap(functions => functions.httpsCallable(name, options)(data)), map(r => r.data));\n\n      return ɵlazySDKProxy(this, functions, zone);\n    }\n\n  }\n\n  AngularFireFunctions.ɵfac = function AngularFireFunctions_Factory(t) {\n    return new (t || AngularFireFunctions)(ɵngcc0.ɵɵinject(FIREBASE_OPTIONS), ɵngcc0.ɵɵinject(FIREBASE_APP_NAME, 8), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(REGION, 8), ɵngcc0.ɵɵinject(ORIGIN, 8), ɵngcc0.ɵɵinject(NEW_ORIGIN_BEHAVIOR, 8), ɵngcc0.ɵɵinject(USE_EMULATOR, 8));\n  };\n  /** @nocollapse */\n\n\n  AngularFireFunctions.ɵprov = i0.ɵɵdefineInjectable({\n    factory: function AngularFireFunctions_Factory() {\n      return new AngularFireFunctions(i0.ɵɵinject(i1.FIREBASE_OPTIONS), i0.ɵɵinject(i1.FIREBASE_APP_NAME, 8), i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(REGION, 8), i0.ɵɵinject(ORIGIN, 8), i0.ɵɵinject(NEW_ORIGIN_BEHAVIOR, 8), i0.ɵɵinject(USE_EMULATOR, 8));\n    },\n    token: AngularFireFunctions,\n    providedIn: \"any\"\n  });\n  /** @nocollapse */\n\n  return AngularFireFunctions;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*#__PURE__*/\nɵapplyMixins(AngularFireFunctions, [proxyPolyfillCompat]);\nlet AngularFireFunctionsModule = /*#__PURE__*/(() => {\n  class AngularFireFunctionsModule {}\n\n  AngularFireFunctionsModule.ɵfac = function AngularFireFunctionsModule_Factory(t) {\n    return new (t || AngularFireFunctionsModule)();\n  };\n\n  AngularFireFunctionsModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: AngularFireFunctionsModule\n  });\n  AngularFireFunctionsModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    providers: [AngularFireFunctions]\n  });\n  return AngularFireFunctionsModule;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { AngularFireFunctions, AngularFireFunctionsModule, NEW_ORIGIN_BEHAVIOR, ORIGIN, REGION, USE_EMULATOR }; //# sourceMappingURL=angular-fire-functions.js.map","map":null,"metadata":{},"sourceType":"module"}